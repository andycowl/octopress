
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>dose of your own medicine - Blog In Isolation</title>
  <meta name="author" content="Andy C">

  
  <meta name="description" content="I had the misfortune to visit a very angry customer today. He was having
problems loading customer data into Siebel. I sat him down with a nice
cup &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.nbrightside.com/blog/2006/11/23/dose-of-your-own-medicine/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Blog In Isolation" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-385771-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Blog In Isolation</a></h1>
  
    <h2>There is a radiant darkness upon us</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.nbrightside.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about/">About</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Dose of Your Own Medicine</h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-11-23T22:21:40+00:00" pubdate data-updated="true">Nov 23<span>rd</span>, 2006</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>I had the misfortune to visit a very angry customer today. He was having
problems loading customer data into Siebel. I sat him down with a nice
cup of tea and invited him to tell me all about his woes.</p>

<p>&#8216;Well Norman - it&#8217;s like this you see. We used to be able to load
400,000 contacts per hour. Now performance is absolutely abysmal and it
takes 12 minutes to load just 1,000.&#8217;</p>

<p>&#8216;Hold on. What exactly have you changed since you last loaded 400,000
per hour.&#8217;</p>

<p>&#8216;Nothing. Nothing at all.&#8217;</p>

<p>&#8216;Hang on. When were you last able to load 400,000 per hour - exactly ?&#8217;</p>

<p>&#8216;Err well. It was back in February, you see.&#8217;</p>

<p>&#8216;And you expect me to believe that you have changed nothing since then
?&#8217;</p>

<p>&#8216;Yes.&#8217;</p>

<p>&#8216;OK. I want hard copies of all change controls raised against this
system since February and access to Visual Source Safe. I also want the
DBA and Siebel administrator here. Now.&#8217;</p>

<p>&#8216;We haven&#8217;t got any change controls. We don&#8217;t use configuration
management and I am the DBA, Siebel Admin, systems admin, Web server
guru and I also make the tea. We are a small company, you see.&#8217;</p>

<p>&#8216;I see. That&#8217;s fine.&#8217; (sigh and roll eyes upwards). This could be a long
day.</p>

<p>And so the detailed analysis commenced. The control file (IFB) used to
load the data. The key Oracle parameters. The hardware of the various
servers. All identical to the configuration used back in February.</p>

<p>And he did load 400,000 records per hour. He had the logs to prove it.
And now he could type the data in quicker. I know because I saw it with
my own eyes. A real mystery.</p>

<p>Siebel&#8217;s data loading utility is called EIM and uses CBO so time to
check the statistics. This client uses Oracle 10g so statistics are
automatically gathered by default (essentially gather stale) so all
tables have current statistics.</p>

<p>Hold on a minute. All tables apart from EIM_CONTACT and a load of
others.</p>

<p>&#8216;Why have you dropped statistics on EIM_CONTACT ?&#8217;</p>

<p>&#8216;We haven&#8217;t.&#8217;</p>

<p>&#8216;Oh yes you have.&#8217;</p>

<p>&#8216;Oh yeah. I remember now. I was playing with a custom script to drop
stats on all empty tables. Siebel told me to do this because it affects
performance (Alert 1162).&#8217;</p>

<p>&#8216;Oh I see. How very interesting.&#8217;</p>

<p>It transpires that because the interface table is (correctly) truncated
post-load, the statistics subsequently got deleted by this script. Kudos
to this customer though for humourously naming the script &#8216;dropem.sql&#8217;.</p>

<p>Quickly compute statistics on EIM_CONTACT and indexes and performance
is miraculously restored.</p>

<p>Well almost. The client forgot to tell me that he had dropped unused
indexes on the base tables to accelerate the data load still further.
The &#8216;ddlsync&#8217; utility that synchronises the Siebel Repository with the
physical Oracle schema had subsequently been run which reinstated all
the indexes slowing performance down slightly. The indexes are dropped
and the original throughput is restored.</p>

<p>Well almost. The client forgot to tell me he had enabled mobile web
clients as an experiment for Olof Ericcsson (VP Sales - Scandinavia). So
we disable remote transaction logging to eliminate that minor overhead.
Throughput is now restored.</p>

<p>So I said my goodbyes and left for the long drive home.</p>

<p>Only, on this occasion, the journey home was very short.</p>

<p>On this occasion, the client happened to be sitting at my kitchen table.</p>

<p>On this occasion, the rack of expensive application/Web/database servers
were actually all co-hosted on my very own laptop.</p>

<p>On this occasion, the client who made all the mistakes was me.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Andy C</span></span>

      








  


<time datetime="2006-11-23T22:21:40+00:00" pubdate data-updated="true">Nov 23<span>rd</span>, 2006</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/uncategorised/'>uncategorised</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2006/11/23/ycnmiu-4/" title="Previous Post: YCNMIU">&laquo; YCNMIU</a>
      
      
        <a class="basic-alignment right" href="/blog/2006/11/23/from-beyond-the-grave/" title="Next Post: from beyond the grave">from beyond the grave &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/09/14/the-awkward-second-post/">the awkward second post</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/14/hello-world/">Hello World</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/14/migration-plan/">migration plan</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/14/blog-migration/">blog migration checklist</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/14/autumn-migration/">Autumn migration</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Andy C -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'andycowl';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://www.nbrightside.com/blog/2006/11/23/dose-of-your-own-medicine/';
        var disqus_url = 'http://www.nbrightside.com/blog/2006/11/23/dose-of-your-own-medicine/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
